<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Disney+ Hotstar - Watch TV Shows, Movies, Live Cricket Matches & News Online</title>
    <link rel="icon" href="https://secure-media.hotstar.com/web-assets/prod/D+H_favicon.ico">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@500&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="style_all_genres.css">
</head>

<body>
    <div class="genresPage ml-4 mr-4">
        <h5 class="p-1">Drama</h5>
        <div class="genresArea container-fluid">
            <div class="row" id="addRowDrama">
                <div class="col-3 col-lg-2 p-1">
                    <div class="inerType">
                        <a href="">
                            <div class="card card-img-container shadeType">
                                <img src="https://img1.hotstarext.com/image/upload/f_auto,t_web_hs_1_5x/sources/r1/cms/prod/2794/1022794-h-b68a8d8c0b66"
                                    alt="">
                            </div>
                            <div class="textType">
                                <span class="titleName">MovieName</span>
                                <div class="sub-info">
                                    <span>Grey's Anatomy</span>
                                </div>
                                <div class="movieDescription">
                                    นี่คือสุดยอดซีรีส์ที่จะสร้างความสนุก เสียงหัวเราะ ทำให้คุณเสียน้ำตาและเรียนรู้คุณค่าของชีวิตผ่านเรื่องราวของเหล่าศัลยแพทย์ที่ต้องต่อสู้เพื่อรักษาชีวิตคนไข้และพยุงชีวิตส่วนตัวไปพร้อมๆ กัน
                                </div>
                                <div class="addToWatchList" title="เพิ่มในรายการรับชม">
                                    <img class="plusIcon" src="https://cdn-icons-png.flaticon.com/512/1828/1828819.png" alt="">
                                    <span> เพิ่มในรายการรับชม</span>
                                </div>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        let requestURL = 'drama.json';
        let request = new XMLHttpRequest();
        request.onreadystatechange = function () {
            if (request.readyState == 4 && request.status == 200) {
                dataReportStatus(JSON.parse(request.responseText));
            }
        };
        request.open("GET", requestURL, true);
        request.send();


        function dataReportStatus(data) {
            for (var i=0; i<data.Movie.length; i++){
                var info = "";
                for (var j=0; j<data.Movie[i].Type.length; j++){
                    info += data.Movie[i].Type[j]
                    if (j != data.Movie[i].Type.length-1){
                        info += `, `;
                    }
                }
                var html = createElementFromHTML(`<div class="col-3 col-lg-2 p-1">
                    <div class="inerType">
                        <a href="">
                            <div class="card card-img-container shadeType">
                                <img src="` + data.Movie[i].img +`"
                                    alt="">
                            </div>
                            <div class="textType">
                                <span class="titleName">`+ data.Movie[i].Name +`</span>
                                <div class="sub-info">
                                    <span>`+ info +`</span>
                                </div>
                                <div class="movieDescription">
                                    `+ data.Movie[i].Description +`
                                </div>
                                <div class="addToWatchList" title="เพิ่มในรายการรับชม">
                                    <img class="plusIcon" src="https://cdn-icons-png.flaticon.com/512/1828/1828819.png" alt="">
                                    <span> เพิ่มในรายการรับชม</span>
                                </div>
                            </div>
                        </a>
                    </div>
                </div>`);
                document.getElementById("addRowDrama").appendChild(html);
                                            }

        }

        function createElementFromHTML(htmlString) {
            var div = document.createElement('div');
            div.innerHTML = htmlString.trim();

            // Change this to div.childNodes to support multiple top-level nodes
            return div.firstChild;
        }
    </script>



</body>

</html>